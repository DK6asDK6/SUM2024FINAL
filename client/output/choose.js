var chsBundled=function(e){"use strict";let t,n,o=!1;function s(){t=new WebSocket("ws://brook-nettle-devourer.glitch.me:8000"),t.onopen=()=>{console.log("open"),t.send(JSON.stringify({type:"nonUser"}));let e=window.sessionStorage.getItem("user");null==e&&(e=window.localStorage.getItem("user")),t.send(JSON.stringify({type:"getRooms",user:e}))},t.onmessage=e=>{!async function(e){if(n=JSON.parse(e),"retRooms"==n.type){let e=document.getElementById("rooms");for(let t of n.rooms){let n=t.split(":")[1];e.innerHTML+=`<option value="${n}">${n}</option>`}}else if("access"==n.type){const e={room:n.room,user:n._user};fetch("/main",{method:"GET",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}})}console.log(n)}(e.data)}}function l(){s()}return window.addEventListener("load",l),e.init=l,e.onNew=function(){let e=document.getElementById("choose");o||(e.innerHTML+='\n  <tr>\n    <td colspan="2">\n      <label for "new"> Just enter game name and start! </label>\n      <br />\n      <input type="text" class="new" id="new"/>\n    </td>\n  </tr>\n  '),o=!0},e.onSubmit=async function(){let e=null!=document.getElementById("new")||null!=document.getElementById("rooms").options[0];console.log(window.localStorage.getItem("user"));let t=window.localStorage.getItem("user");if(null==t&&(t=window.sessionStorage.getItem("user")),e){let e="";if(null!=document.getElementById("new")&&""!=$("#new").val().trim())e=$("#new").val();else{let t=document.getElementById("rooms");e=t.options[t.selectedIndex].text}let n=JSON.stringify({user:t,roomName:e});window.sessionStorage.setItem("room",e),await fetch("/toRoom",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:n}).then((()=>{window.location="/room"}))}},e}({});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hvb3NlLmpzIiwic291cmNlcyI6WyIuLi9jaG9vc2VtYXAvY2hvb3NlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdhbWUsIHVzZXIgfSBmcm9tIFwiLi4vY2xhc3Nlcy9jbGFzc2VzXCI7XG5cbmxldCBzb2NrZXQ7XG5sZXQgcmVzcG9uY2U7XG5cbmxldCBwcmVzc2VkID0gZmFsc2U7XG5cbmV4cG9ydCBmdW5jdGlvbiBvbk5ldygpIHtcbiAgbGV0IHRhYmxldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hvb3NlXCIpO1xuICBpZiAoIXByZXNzZWQpXG4gICAgdGFibGV0LmlubmVySFRNTCArPSBgXG4gIDx0cj5cbiAgICA8dGQgY29sc3Bhbj1cIjJcIj5cbiAgICAgIDxsYWJlbCBmb3IgXCJuZXdcIj4gSnVzdCBlbnRlciBnYW1lIG5hbWUgYW5kIHN0YXJ0ISA8L2xhYmVsPlxuICAgICAgPGJyIC8+XG4gICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cIm5ld1wiIGlkPVwibmV3XCIvPlxuICAgIDwvdGQ+XG4gIDwvdHI+XG4gIGA7XG5cbiAgcHJlc3NlZCA9IHRydWU7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBvblN1Ym1pdCgpIHtcbiAgbGV0IGV4aXN0ZW5jZSA9XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZXdcIikgIT0gdW5kZWZpbmVkIHx8XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb29tc1wiKS5vcHRpb25zWzBdICE9IHVuZGVmaW5lZDtcblxuICBjb25zb2xlLmxvZyh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ1c2VyXCIpKTtcbiAgbGV0IG5hbWUgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ1c2VyXCIpO1xuICBpZiAobmFtZSA9PSB1bmRlZmluZWQpIG5hbWUgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcInVzZXJcIik7XG5cbiAgaWYgKGV4aXN0ZW5jZSkge1xuICAgIGxldCBtZXMgPSBcIlwiO1xuXG4gICAgaWYgKFxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZXdcIikgIT0gdW5kZWZpbmVkICYmXG4gICAgICAkKFwiI25ld1wiKS52YWwoKS50cmltKCkgIT0gXCJcIlxuICAgIClcbiAgICAgIG1lcyA9ICQoXCIjbmV3XCIpLnZhbCgpO1xuICAgIGVsc2Uge1xuICAgICAgbGV0IHNlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm9vbXNcIik7XG4gICAgICBtZXMgPSBzZWwub3B0aW9uc1tzZWwuc2VsZWN0ZWRJbmRleF0udGV4dDtcbiAgICB9XG5cbiAgICBsZXQgbWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHVzZXI6IG5hbWUsXG4gICAgICByb29tTmFtZTogbWVzLFxuICAgIH0pO1xuXG4gICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJyb29tXCIsIG1lcyk7XG5cbiAgICAvLyAkLnBvc3Qoe1xuICAgIC8vICAgdXJsOiBcIi90b1Jvb21cIixcbiAgICAvLyAgIGhlYWRlcnM6IHtcbiAgICAvLyAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLThcIixcbiAgICAvLyAgIH0sXG4gICAgLy8gICBib2R5OiBtZXNzYWdlLFxuICAgIC8vICAgLy8gYm9keToge1xuICAgIC8vICAgLy8gICB1c2VyOiBuYW1lLFxuICAgIC8vICAgLy8gICByb29tTmFtZTogbWVzLFxuICAgIC8vICAgLy8gfSxcbiAgICAvLyB9KTtcblxuICAgIGF3YWl0IGZldGNoKFwiL3RvUm9vbVwiLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOFwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IG1lc3NhZ2UsXG4gICAgICAvLyBib2R5OiB7IHVzZXI6IG5hbWUsIHJvb21OYW1lOiBtZXMgfSxcbiAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IFwiL3Jvb21cIjtcbiAgICB9KTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiByZWFjdE9uTWVzc2FnZShzcmMpIHtcbiAgcmVzcG9uY2UgPSBKU09OLnBhcnNlKHNyYyk7XG5cbiAgaWYgKHJlc3BvbmNlLnR5cGUgPT0gXCJyZXRSb29tc1wiKSB7XG4gICAgbGV0IHNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm9vbXNcIik7XG5cbiAgICBmb3IgKGxldCByb29tMSBvZiByZXNwb25jZS5yb29tcykge1xuICAgICAgbGV0IHJvb20gPSByb29tMS5zcGxpdChcIjpcIilbMV07XG4gICAgICBzZWxlY3QuaW5uZXJIVE1MICs9IGA8b3B0aW9uIHZhbHVlPVwiJHtyb29tfVwiPiR7cm9vbX08L29wdGlvbj5gO1xuICAgIH1cbiAgfSBlbHNlIGlmIChyZXNwb25jZS50eXBlID09IFwiYWNjZXNzXCIpIHtcbiAgICBjb25zdCBtZXMgPSB7XG4gICAgICByb29tOiByZXNwb25jZS5yb29tLFxuICAgICAgdXNlcjogcmVzcG9uY2UuX3VzZXIsXG4gICAgfTtcbiAgICBmZXRjaChcIi9tYWluXCIsIHtcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KG1lcyksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOFwiLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnNvbGUubG9nKHJlc3BvbmNlKTtcbn1cblxuZnVuY3Rpb24gaW5pdENvbW11bmljYXRpb24oKSB7XG4gIHNvY2tldCA9IG5ldyBXZWJTb2NrZXQoXCJ3czovL2Jyb29rLW5ldHRsZS1kZXZvdXJlci5nbGl0Y2gubWU6ODAwMFwiKTtcblxuICBzb2NrZXQub25vcGVuID0gKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwib3BlblwiKTtcbiAgICBzb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6IFwibm9uVXNlclwiIH0pKTtcblxuICAgIGxldCB1c2VyID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJ1c2VyXCIpO1xuXG4gICAgaWYgKHVzZXIgPT0gbnVsbCkgdXNlciA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInVzZXJcIik7XG5cbiAgICBzb2NrZXQuc2VuZChcbiAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdHlwZTogXCJnZXRSb29tc1wiLFxuICAgICAgICB1c2VyOiB1c2VyLFxuICAgICAgfSlcbiAgICApO1xuICB9O1xuXG4gIHNvY2tldC5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgICByZWFjdE9uTWVzc2FnZShldmVudC5kYXRhKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XG4gIGluaXRDb21tdW5pY2F0aW9uKCk7XG4gIC8vIG1haW4oKTtcbn1cblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGluaXQpO1xuIl0sIm5hbWVzIjpbInNvY2tldCIsInJlc3BvbmNlIiwicHJlc3NlZCIsImluaXRDb21tdW5pY2F0aW9uIiwiV2ViU29ja2V0Iiwib25vcGVuIiwiY29uc29sZSIsImxvZyIsInNlbmQiLCJKU09OIiwic3RyaW5naWZ5IiwidHlwZSIsInVzZXIiLCJ3aW5kb3ciLCJzZXNzaW9uU3RvcmFnZSIsImdldEl0ZW0iLCJsb2NhbFN0b3JhZ2UiLCJvbm1lc3NhZ2UiLCJldmVudCIsImFzeW5jIiwic3JjIiwicGFyc2UiLCJzZWxlY3QiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwicm9vbTEiLCJyb29tcyIsInJvb20iLCJzcGxpdCIsImlubmVySFRNTCIsIm1lcyIsIl91c2VyIiwiZmV0Y2giLCJtZXRob2QiLCJib2R5IiwiaGVhZGVycyIsInJlYWN0T25NZXNzYWdlIiwiZGF0YSIsImluaXQiLCJhZGRFdmVudExpc3RlbmVyIiwidGFibGV0IiwiZXhpc3RlbmNlIiwidW5kZWZpbmVkIiwib3B0aW9ucyIsIm5hbWUiLCIkIiwidmFsIiwidHJpbSIsInNlbCIsInNlbGVjdGVkSW5kZXgiLCJ0ZXh0IiwibWVzc2FnZSIsInJvb21OYW1lIiwic2V0SXRlbSIsInRoZW4iLCJsb2NhdGlvbiJdLCJtYXBwaW5ncyI6IndDQUVBLElBQUlBLEVBQ0FDLEVBRUFDLEdBQVUsRUFtR2QsU0FBU0MsSUFDUEgsRUFBUyxJQUFJSSxVQUFVLDZDQUV2QkosRUFBT0ssT0FBUyxLQUNkQyxRQUFRQyxJQUFJLFFBQ1pQLEVBQU9RLEtBQUtDLEtBQUtDLFVBQVUsQ0FBRUMsS0FBTSxhQUVuQyxJQUFJQyxFQUFPQyxPQUFPQyxlQUFlQyxRQUFRLFFBRTdCLE1BQVJILElBQWNBLEVBQU9DLE9BQU9HLGFBQWFELFFBQVEsU0FFckRmLEVBQU9RLEtBQ0xDLEtBQUtDLFVBQVUsQ0FDYkMsS0FBTSxXQUNOQyxLQUFNQSxJQUVULEVBR0haLEVBQU9pQixVQUFhQyxLQTlDdEJDLGVBQThCQyxHQUc1QixHQUZBbkIsRUFBV1EsS0FBS1ksTUFBTUQsR0FFRCxZQUFqQm5CLEVBQVNVLEtBQW9CLENBQy9CLElBQUlXLEVBQVNDLFNBQVNDLGVBQWUsU0FFckMsSUFBSyxJQUFJQyxLQUFTeEIsRUFBU3lCLE1BQU8sQ0FDaEMsSUFBSUMsRUFBT0YsRUFBTUcsTUFBTSxLQUFLLEdBQzVCTixFQUFPTyxXQUFhLGtCQUFrQkYsTUFBU0EsWUFDaEQsQ0FDTCxNQUFTLEdBQXFCLFVBQWpCMUIsRUFBU1UsS0FBa0IsQ0FDcEMsTUFBTW1CLEVBQU0sQ0FDVkgsS0FBTTFCLEVBQVMwQixLQUNmZixLQUFNWCxFQUFTOEIsT0FFakJDLE1BQU0sUUFBUyxDQUNiQyxPQUFRLE1BQ1JDLEtBQU16QixLQUFLQyxVQUFVb0IsR0FDckJLLFFBQVMsQ0FDUCxlQUFnQixvQ0FHckIsQ0FFRDdCLFFBQVFDLElBQUlOLEVBQ2QsQ0FzQkltQyxDQUFlbEIsRUFBTW1CLEtBQUssQ0FFOUIsQ0FFTyxTQUFTQyxJQUNkbkMsR0FFRixRQUVBVSxPQUFPMEIsaUJBQWlCLE9BQVFELG9CQTlIekIsV0FDTCxJQUFJRSxFQUFTakIsU0FBU0MsZUFBZSxVQUNoQ3RCLElBQ0hzQyxFQUFPWCxXQUFhLDJMQVV0QjNCLEdBQVUsQ0FDWixhQUVPaUIsaUJBQ0wsSUFBSXNCLEVBQ2dDQyxNQUFsQ25CLFNBQVNDLGVBQWUsUUFDdUJrQixNQUEvQ25CLFNBQVNDLGVBQWUsU0FBU21CLFFBQVEsR0FFM0NyQyxRQUFRQyxJQUFJTSxPQUFPRyxhQUFhRCxRQUFRLFNBQ3hDLElBQUk2QixFQUFPL0IsT0FBT0csYUFBYUQsUUFBUSxRQUd2QyxHQUZZMkIsTUFBUkUsSUFBbUJBLEVBQU8vQixPQUFPQyxlQUFlQyxRQUFRLFNBRXhEMEIsRUFBVyxDQUNiLElBQUlYLEVBQU0sR0FFVixHQUNvQ1ksTUFBbENuQixTQUFTQyxlQUFlLFFBQ0UsSUFBMUJxQixFQUFFLFFBQVFDLE1BQU1DLE9BRWhCakIsRUFBTWUsRUFBRSxRQUFRQyxVQUNiLENBQ0gsSUFBSUUsRUFBTXpCLFNBQVNDLGVBQWUsU0FDbENNLEVBQU1rQixFQUFJTCxRQUFRSyxFQUFJQyxlQUFlQyxJQUN0QyxDQUVELElBQUlDLEVBQVUxQyxLQUFLQyxVQUFVLENBQzNCRSxLQUFNZ0MsRUFDTlEsU0FBVXRCLElBR1pqQixPQUFPQyxlQUFldUMsUUFBUSxPQUFRdkIsU0FjaENFLE1BQU0sVUFBVyxDQUNyQkMsT0FBUSxPQUNSRSxRQUFTLENBQ1AsZUFBZ0Isa0NBRWxCRCxLQUFNaUIsSUFFTEcsTUFBSyxLQUNOekMsT0FBTzBDLFNBQVcsT0FBTyxHQUU1QixDQUNIIn0=
