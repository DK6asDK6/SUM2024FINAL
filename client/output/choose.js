var chsBundled=function(e){"use strict";let t,n,o=!1;function s(){t=new WebSocket("ws://localhost:8000"),t.onopen=()=>{console.log("open"),t.send(JSON.stringify({type:"nonUser"}));let e=window.sessionStorage.getItem("user");null==e&&(e=window.localStorage.getItem("user")),t.send(JSON.stringify({type:"getRooms",user:e}))},t.onmessage=e=>{!async function(e){if(n=JSON.parse(e),"retRooms"==n.type){let e=document.getElementById("rooms");for(let t of n.rooms){let n=t.split(":")[1];e.innerHTML+=`<option value="${n}">${n}</option>`}}else if("access"==n.type){const e={room:n.room,user:n._user};fetch("/main",{method:"GET",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}})}console.log(n)}(e.data)}}function l(){s()}return window.addEventListener("load",l),e.init=l,e.onNew=function(){let e=document.getElementById("choose");o||(e.innerHTML+='\n  <tr>\n    <td colspan="2">\n      <label for "new"> Just enter game name and start! </label>\n      <br />\n      <input type="text" class="new" id="new"/>\n    </td>\n  </tr>\n  '),o=!0},e.onSubmit=async function(){let e=null!=document.getElementById("new")||null!=document.getElementById("rooms").options[0];console.log(window.localStorage.getItem("user"));let t=window.localStorage.getItem("user");if(null==t&&(t=window.sessionStorage.getItem("user")),e){let e="";if(null!=document.getElementById("new"))e=$("#new").val();else{let t=document.getElementById("rooms");e=t.options[t.selectedIndex].text}let n=JSON.stringify({user:t,roomName:e});window.sessionStorage.setItem("room",e),await fetch("/toRoom",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:n}).then((()=>{window.location="/room"}))}},e}({});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hvb3NlLmpzIiwic291cmNlcyI6WyIuLi9jaG9vc2VtYXAvY2hvb3NlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdhbWUsIHVzZXIgfSBmcm9tIFwiLi4vY2xhc3Nlcy9jbGFzc2VzXCI7XHJcblxyXG5sZXQgc29ja2V0O1xyXG5sZXQgcmVzcG9uY2U7XHJcblxyXG5sZXQgcHJlc3NlZCA9IGZhbHNlO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG9uTmV3KCkge1xyXG4gIGxldCB0YWJsZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNob29zZVwiKTtcclxuICBpZiAoIXByZXNzZWQpXHJcbiAgICB0YWJsZXQuaW5uZXJIVE1MICs9IGBcclxuICA8dHI+XHJcbiAgICA8dGQgY29sc3Bhbj1cIjJcIj5cclxuICAgICAgPGxhYmVsIGZvciBcIm5ld1wiPiBKdXN0IGVudGVyIGdhbWUgbmFtZSBhbmQgc3RhcnQhIDwvbGFiZWw+XHJcbiAgICAgIDxiciAvPlxyXG4gICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cIm5ld1wiIGlkPVwibmV3XCIvPlxyXG4gICAgPC90ZD5cclxuICA8L3RyPlxyXG4gIGA7XHJcblxyXG4gIHByZXNzZWQgPSB0cnVlO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gb25TdWJtaXQoKSB7XHJcbiAgbGV0IGV4aXN0ZW5jZSA9XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5ld1wiKSAhPSB1bmRlZmluZWQgfHxcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm9vbXNcIikub3B0aW9uc1swXSAhPSB1bmRlZmluZWQ7XHJcblxyXG4gIGNvbnNvbGUubG9nKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInVzZXJcIikpO1xyXG4gIGxldCBuYW1lID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidXNlclwiKTtcclxuICBpZiAobmFtZSA9PSB1bmRlZmluZWQpIG5hbWUgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcInVzZXJcIik7XHJcblxyXG4gIGlmIChleGlzdGVuY2UpIHtcclxuICAgIGxldCBtZXMgPSBcIlwiO1xyXG5cclxuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5ld1wiKSAhPSB1bmRlZmluZWQpIG1lcyA9ICQoXCIjbmV3XCIpLnZhbCgpO1xyXG4gICAgZWxzZSB7XHJcbiAgICAgIGxldCBzZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvb21zXCIpO1xyXG4gICAgICBtZXMgPSBzZWwub3B0aW9uc1tzZWwuc2VsZWN0ZWRJbmRleF0udGV4dDtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgbWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgdXNlcjogbmFtZSxcclxuICAgICAgcm9vbU5hbWU6IG1lcyxcclxuICAgIH0pO1xyXG5cclxuICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwicm9vbVwiLCBtZXMpO1xyXG5cclxuICAgIC8vICQucG9zdCh7XHJcbiAgICAvLyAgIHVybDogXCIvdG9Sb29tXCIsXHJcbiAgICAvLyAgIGhlYWRlcnM6IHtcclxuICAgIC8vICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOFwiLFxyXG4gICAgLy8gICB9LFxyXG4gICAgLy8gICBib2R5OiBtZXNzYWdlLFxyXG4gICAgLy8gICAvLyBib2R5OiB7XHJcbiAgICAvLyAgIC8vICAgdXNlcjogbmFtZSxcclxuICAgIC8vICAgLy8gICByb29tTmFtZTogbWVzLFxyXG4gICAgLy8gICAvLyB9LFxyXG4gICAgLy8gfSk7XHJcblxyXG4gICAgYXdhaXQgZmV0Y2goXCIvdG9Sb29tXCIsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04XCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IG1lc3NhZ2UsXHJcbiAgICAgIC8vIGJvZHk6IHsgdXNlcjogbmFtZSwgcm9vbU5hbWU6IG1lcyB9LFxyXG4gICAgfSkudGhlbigoKSA9PiB7XHJcbiAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IFwiL3Jvb21cIjtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vICQuYWpheCh7XHJcbiAgICAvLyAgIHVybDogXCIvdG9Sb29tXCIsXHJcbiAgICAvLyAgIG1ldGhvZDogXCJwb3N0XCIsXHJcbiAgICAvLyAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgIC8vICAgZGF0YTogbWVzc2FnZSxcclxuICAgIC8vICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgLy8gfSk7XHJcblxyXG4gICAgLy8gc29ja2V0LnNlbmQoXHJcbiAgICAvLyBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAvLyB0eXBlOiBcInJvb21TdWJtaXRcIixcclxuICAgIC8vIHVzZXI6IG5hbWUsXHJcbiAgICAvLyByb29tTmFtZTogbWVzLFxyXG4gICAgLy8gfSlcclxuICAgIC8vICk7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiByZWFjdE9uTWVzc2FnZShzcmMpIHtcclxuICByZXNwb25jZSA9IEpTT04ucGFyc2Uoc3JjKTtcclxuXHJcbiAgaWYgKHJlc3BvbmNlLnR5cGUgPT0gXCJyZXRSb29tc1wiKSB7XHJcbiAgICBsZXQgc2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb29tc1wiKTtcclxuXHJcbiAgICBmb3IgKGxldCByb29tMSBvZiByZXNwb25jZS5yb29tcykge1xyXG4gICAgICBsZXQgcm9vbSA9IHJvb20xLnNwbGl0KFwiOlwiKVsxXTtcclxuICAgICAgc2VsZWN0LmlubmVySFRNTCArPSBgPG9wdGlvbiB2YWx1ZT1cIiR7cm9vbX1cIj4ke3Jvb219PC9vcHRpb24+YDtcclxuICAgIH1cclxuICB9IGVsc2UgaWYgKHJlc3BvbmNlLnR5cGUgPT0gXCJhY2Nlc3NcIikge1xyXG4gICAgY29uc3QgbWVzID0ge1xyXG4gICAgICByb29tOiByZXNwb25jZS5yb29tLFxyXG4gICAgICB1c2VyOiByZXNwb25jZS5fdXNlcixcclxuICAgIH07XHJcbiAgICBmZXRjaChcIi9tYWluXCIsIHtcclxuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShtZXMpLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04XCIsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNvbnNvbGUubG9nKHJlc3BvbmNlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdENvbW11bmljYXRpb24oKSB7XHJcbiAgc29ja2V0ID0gbmV3IFdlYlNvY2tldChcIndzOi8vbG9jYWxob3N0OjgwMDBcIik7XHJcblxyXG4gIHNvY2tldC5vbm9wZW4gPSAoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhcIm9wZW5cIik7XHJcbiAgICBzb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6IFwibm9uVXNlclwiIH0pKTtcclxuXHJcbiAgICBsZXQgdXNlciA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwidXNlclwiKTtcclxuXHJcbiAgICBpZiAodXNlciA9PSBudWxsKSB1c2VyID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidXNlclwiKTtcclxuXHJcbiAgICBzb2NrZXQuc2VuZChcclxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIHR5cGU6IFwiZ2V0Um9vbXNcIixcclxuICAgICAgICB1c2VyOiB1c2VyLFxyXG4gICAgICB9KVxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICBzb2NrZXQub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XHJcbiAgICByZWFjdE9uTWVzc2FnZShldmVudC5kYXRhKTtcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcclxuICBpbml0Q29tbXVuaWNhdGlvbigpO1xyXG4gIC8vIG1haW4oKTtcclxufVxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGluaXQpO1xyXG4iXSwibmFtZXMiOlsic29ja2V0IiwicmVzcG9uY2UiLCJwcmVzc2VkIiwiaW5pdENvbW11bmljYXRpb24iLCJXZWJTb2NrZXQiLCJvbm9wZW4iLCJjb25zb2xlIiwibG9nIiwic2VuZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0eXBlIiwidXNlciIsIndpbmRvdyIsInNlc3Npb25TdG9yYWdlIiwiZ2V0SXRlbSIsImxvY2FsU3RvcmFnZSIsIm9ubWVzc2FnZSIsImV2ZW50IiwiYXN5bmMiLCJzcmMiLCJwYXJzZSIsInNlbGVjdCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJyb29tMSIsInJvb21zIiwicm9vbSIsInNwbGl0IiwiaW5uZXJIVE1MIiwibWVzIiwiX3VzZXIiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJoZWFkZXJzIiwicmVhY3RPbk1lc3NhZ2UiLCJkYXRhIiwiaW5pdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0YWJsZXQiLCJleGlzdGVuY2UiLCJ1bmRlZmluZWQiLCJvcHRpb25zIiwibmFtZSIsIiQiLCJ2YWwiLCJzZWwiLCJzZWxlY3RlZEluZGV4IiwidGV4dCIsIm1lc3NhZ2UiLCJyb29tTmFtZSIsInNldEl0ZW0iLCJ0aGVuIiwibG9jYXRpb24iXSwibWFwcGluZ3MiOiJ3Q0FFQSxJQUFJQSxFQUNBQyxFQUVBQyxHQUFVLEVBK0dkLFNBQVNDLElBQ1BILEVBQVMsSUFBSUksVUFBVSx1QkFFdkJKLEVBQU9LLE9BQVMsS0FDZEMsUUFBUUMsSUFBSSxRQUNaUCxFQUFPUSxLQUFLQyxLQUFLQyxVQUFVLENBQUVDLEtBQU0sYUFFbkMsSUFBSUMsRUFBT0MsT0FBT0MsZUFBZUMsUUFBUSxRQUU3QixNQUFSSCxJQUFjQSxFQUFPQyxPQUFPRyxhQUFhRCxRQUFRLFNBRXJEZixFQUFPUSxLQUNMQyxLQUFLQyxVQUFVLENBQ2JDLEtBQU0sV0FDTkMsS0FBTUEsSUFFVCxFQUdIWixFQUFPaUIsVUFBYUMsS0E5Q3RCQyxlQUE4QkMsR0FHNUIsR0FGQW5CLEVBQVdRLEtBQUtZLE1BQU1ELEdBRUQsWUFBakJuQixFQUFTVSxLQUFvQixDQUMvQixJQUFJVyxFQUFTQyxTQUFTQyxlQUFlLFNBRXJDLElBQUssSUFBSUMsS0FBU3hCLEVBQVN5QixNQUFPLENBQ2hDLElBQUlDLEVBQU9GLEVBQU1HLE1BQU0sS0FBSyxHQUM1Qk4sRUFBT08sV0FBYSxrQkFBa0JGLE1BQVNBLFlBQ2hELENBQ0wsTUFBUyxHQUFxQixVQUFqQjFCLEVBQVNVLEtBQWtCLENBQ3BDLE1BQU1tQixFQUFNLENBQ1ZILEtBQU0xQixFQUFTMEIsS0FDZmYsS0FBTVgsRUFBUzhCLE9BRWpCQyxNQUFNLFFBQVMsQ0FDYkMsT0FBUSxNQUNSQyxLQUFNekIsS0FBS0MsVUFBVW9CLEdBQ3JCSyxRQUFTLENBQ1AsZUFBZ0Isb0NBR3JCLENBRUQ3QixRQUFRQyxJQUFJTixFQUNkLENBc0JJbUMsQ0FBZWxCLEVBQU1tQixLQUFLLENBRTlCLENBRU8sU0FBU0MsSUFDZG5DLEdBRUYsUUFFQVUsT0FBTzBCLGlCQUFpQixPQUFRRCxvQkExSXpCLFdBQ0wsSUFBSUUsRUFBU2pCLFNBQVNDLGVBQWUsVUFDaEN0QixJQUNIc0MsRUFBT1gsV0FBYSwyTEFVdEIzQixHQUFVLENBQ1osYUFFT2lCLGlCQUNMLElBQUlzQixFQUNnQ0MsTUFBbENuQixTQUFTQyxlQUFlLFFBQ3VCa0IsTUFBL0NuQixTQUFTQyxlQUFlLFNBQVNtQixRQUFRLEdBRTNDckMsUUFBUUMsSUFBSU0sT0FBT0csYUFBYUQsUUFBUSxTQUN4QyxJQUFJNkIsRUFBTy9CLE9BQU9HLGFBQWFELFFBQVEsUUFHdkMsR0FGWTJCLE1BQVJFLElBQW1CQSxFQUFPL0IsT0FBT0MsZUFBZUMsUUFBUSxTQUV4RDBCLEVBQVcsQ0FDYixJQUFJWCxFQUFNLEdBRVYsR0FBc0NZLE1BQWxDbkIsU0FBU0MsZUFBZSxPQUFxQk0sRUFBTWUsRUFBRSxRQUFRQyxVQUM1RCxDQUNILElBQUlDLEVBQU14QixTQUFTQyxlQUFlLFNBQ2xDTSxFQUFNaUIsRUFBSUosUUFBUUksRUFBSUMsZUFBZUMsSUFDdEMsQ0FFRCxJQUFJQyxFQUFVekMsS0FBS0MsVUFBVSxDQUMzQkUsS0FBTWdDLEVBQ05PLFNBQVVyQixJQUdaakIsT0FBT0MsZUFBZXNDLFFBQVEsT0FBUXRCLFNBY2hDRSxNQUFNLFVBQVcsQ0FDckJDLE9BQVEsT0FDUkUsUUFBUyxDQUNQLGVBQWdCLGtDQUVsQkQsS0FBTWdCLElBRUxHLE1BQUssS0FDTnhDLE9BQU95QyxTQUFXLE9BQU8sR0FrQjVCLENBQ0gifQ==
